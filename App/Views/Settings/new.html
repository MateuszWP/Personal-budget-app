{% extends 'base.html' %}

{% block title %}Sign up{% endblock %}

{% block footer %}



{% endblock %}

{% block body %}

    {% if user.errors is not empty %}
	<div class="col-12">
        <p>Errors:</p>
        <ul>
            {% for error in user.errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
	</div>
    {% endif %}
	
	<div class="col-md-8 offset-md-2  col-10 offset-1  text-left mt-5 pb-3" id="logowanie">
		<header>
			<h2 class="p-3 text-center">Ustawienia</h2>
		</header>
		
		<!-- ACCORDION -->
		<div id="accordion">
		  <div class="card">
			<a href="#personalInfo" data-parent="#accordion" data-toggle="collapse">
				<div class="card-header py-1">
				  <h5>
					 <i class="fas fa-address-card"></i> Dane użytkownika
				  </h5>
				</div>
			</a>
			
			<div id="personalInfo" class="collapse">
			  <div class="card-body">
				<form id="personalInfoForm" action="/settings/changePersonalInfo" method="post">
					<div class="input-group form-group">
						<div>
							<span class="input-group-text"><strong><i class="fas fa-user"></i></strong></span>
						</div>
						<input id="inputName"  class="form-control" type="text" placeholder="Imię" name="name"  />
					</div>
					
					<div class="input-group form-group">
						<div>
							<span class="input-group-text"><strong><i class="fas fa-at"></i></strong></span>
						</div>
						<input id="inputEmail"  class="form-control" type="email" placeholder="Adres email" name="email"/>
					</div>
					
					<div class="input-group form-group">
						<div>
							<span class="input-group-text"><strong><i class="fas fa-key"></i></strong></span>
						</div>
						<input id="inputPassword" class="form-control" type="password" placeholder="Hasło" name="password" data-toggle="inputPassword" />
					</div>
				
					<button type="submit" value="Submit" class="btn btn-success btn-inline-block" style="width: 100%">
						Edytuj dane użytkownika 
					</button>
				</form>
			  </div>
			</div>
		  </div>

		  <div class="card">
			<a href="#incomeCategory" data-parent="#accordion" data-toggle="collapse">
				<div class="card-header py-1">
				  <h5>
					 <i class="fas fa-tag"></i> Kategorie przychodów
				  </h5>
				</div>
			</a>
			
			<div id="incomeCategory" class="collapse">
			  <div class="card-body">
				<form id="incomeCategoryForm" method="post">
					{% for incomeCategory in incomeCategories %}
						<div class="option"><label><input type="radio" name="incomeCategory" > {{incomeCategory.categoryName}}</label></div>
					{% endfor %}
				</form>
					<div class="row">
						<div class="col-md-4">
							<button type="submit" value="Submit" class="btn btn-success btn-inline-block">
								<i class="fas fa-plus"></i> Dodaj kategorię 
							</button>
						</div>
						
						<div class="col-md-4">
							<button type="submit" value="Submit" class="btn btn-success btn-inline-block">
								<i class="fas fa-plus"></i> Edytuj kategorię 
							</button>
						</div>
						
						<div class="col-md-4">
							<button class="btn btn-success btn-inline-block" data-toggle="modal" data-target="#modalDeleteCategory">
								<i class="fas fa-plus"></i> Usuń kategorię
							</button>
						</div>
					</div>
				
			  </div>
			</div>
		  </div>

		  <div class="card">
			<a href="#expenseCategory" data-parent="#accordion" data-toggle="collapse">
				<div class="card-header py-1" >
				  <h5>
					  <i class="fas fa-shopping-cart"></i> Kategorie wydatków
				  </h5>
				</div>
			</a>
			
			<div id="expenseCategory" class="collapse">
			  <div class="card-body">
				<form id="expenseCategoryForm" method="post">
					{% for expenseCategory in expenseCategories %}
						<div class="option"><label><input type="radio" name="expenseCategory" > {{expenseCategory.categoryName}}</label></div>
					{% endfor %}
				</form>
					<div class="row">
						<div class="col-md-4">
							<button type="submit" value="Submit" class="btn btn-success btn-inline-block">
								<i class="fas fa-plus"></i> Dodaj kategorię 
							</button>
						</div>
						
						<div class="col-md-4">
							<button type="submit" value="Submit" class="btn btn-success btn-inline-block">
								<i class="fas fa-plus"></i> Edytuj kategorię 
							</button>
						</div>
						
						<div class="col-md-4">
							<button class="btn btn-success btn-inline-block" data-toggle="modal" data-target="#modalDeleteCategory">
								<i class="fas fa-plus"></i> Usuń kategorię 
							</button>
						</div>
					</div>
			  </div>
			</div>
		  </div>
		  
		  <div class="card">
			<a href="#payingMethods" data-parent="#accordion" data-toggle="collapse">
				<div class="card-header py-1 card-header-style">
				  <h5>
					<i class="fas fa-receipt"></i>  Metody płatności
				  </h5>
				</div>
			</a>
			
			<div id="payingMethods" class="collapse">
				<div class="card-body">
					<form id="deletePayingMethodForm" method="post" action="/settings/deletePayingMethod">
						{% for payingMethod in payingMethods %}
							<div class="option"><label><input type="radio" name="payingMethod" value="{{payingMethod.payingMethod}}"> {{payingMethod.payingMethod}}</label></div>
						{% endfor %}
					</form>
						<div class="row">
							<div class="col-md-4">
								<button class="btn btn-success btn-inline-block" data-toggle="modal" data-target="#modalAddCategory">
									<i class="fas fa-plus"></i> Dodaj metodę 
								</button>
							</div>
							
							<div class="col-md-4">
								<button type="submit" value="Submit" class="btn btn-success btn-inline-block">
									<i class="fas fa-plus"></i> Edytuj metodę 
								</button>
							</div>
							
							<div class="col-md-4">
								<button class="btn btn-success btn-inline-block" data-toggle="modal" data-target="#modalDeleteCategory">
									<i class="fas fa-plus"></i> Usuń metodę 
								</button>
							</div>
							
						</div>
					
				</div>
			</div>
			
		  </div>
		</div>
		
		<!--MODAL  usun kategorie-->
		<div class="modal" id="modalDeleteCategory">
		  <div class="modal-dialog">
			<div class="modal-content">
			
			  <div class="modal-header">
				<h5 class="modal-title">Na pewno chcesz usunąć wybraną kategorię/metodę?</h5>
				
				<button class="close" data-dismiss="modal">&times;</button>
			  </div>
			  
			  <div class="modal-body">
				<button type="submit" value="Submit1" form="deletePayingMethodForm" class="btn btn-primary" >Tak</button>
				<button class="close" data-dismiss="modal">Nie</button>
			  </div>
			  
			</div>
		  </div>
		</div>
		
		<!--MODAL  dodaj nowa kategorie-->
		<div class="modal" id="modalAddCategory">
		  <div class="modal-dialog">
			<div class="modal-content">
			
			  <div class="modal-header">
				<h5 class="modal-title">Podaj nazwe nowej kategorii</h5>
				
				<button class="close" data-dismiss="modal">&times;</button>
			  </div>
			  
			  <div class="modal-body">
				<form id="addPayingMethodForm" method="post" action="/settings/addPayingMethod">
					<div class="input-group form-group">
						<div>
							<span class="input-group-text"><strong><i class="fas fa-pen"></i></strong></span>
						</div>
						<input class="form-control" type="text" placeholder="Nazwa kategorii" name="category"/>
					</div>
				
				</form>
				
				<button type="submit" value="Submit" form="addPayingMethodForm" class="btn btn-primary" >Akceptuje</button>
			  </div>
			  
			</div>
		  </div>
		</div>
		
		
		<!--MODAL  edytuj  kategorie-->
		<div class="modal" id="modalEditCategory">
		  <div class="modal-dialog">
			<div class="modal-content">
			
			  <div class="modal-header">
				<h5 class="modal-title">Podaj nową nazwe dla wybranej kategorii</h5>
				
				<button class="close" data-dismiss="modal">&times;</button>
			  </div>
			  
			  <div class="modal-body">
				<form id="editPayingMethodForm" method="post" action="/settings/editPayingMethod">
					<div class="input-group form-group">
						<div>
							<span class="input-group-text"><strong><i class="fas fa-pen"></i></strong></span>
						</div>
						<input class="form-control" type="text" placeholder="Nazwa kategorii" name="category"/>
					</div>
				
				</form>
				
				<button type="submit" value="Submit" form="editPayingMethodForm" class="btn btn-primary" >Akceptuje</button>
			  </div>
			  
			</div>
		  </div>
		</div>
		
	</div>
	
{% endblock %}
